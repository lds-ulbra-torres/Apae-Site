<a routerLink="/admin/dashboard/adm-eventos" class="btn btn-dark mt-1 mb-2 w-10">Voltar</a>

<div class="container">
  <div class="m-0 row">
    <h2>Foto Principal </h2>
  </div>
  <div class="row">
    <input #mf type="file" value="evento.main_photo" name="main_photo" class="btn btn-primary mt-auto mb-2 mr-2" id="inputPhoto" (change)="changeImage($event)" ngModel>
  </div>
  <form method="POST" enctype="multipart/form-data" #f="ngForm" (ngSubmit)="onSubmit(f)">

    <div class="row pt-2 justify-content-center">
      <div class="col-5">
        <h3>Pré Visualização</h3>
        <div class="card">
            <div class="absoluter">
              <h4 class="mb-0 textEllipsis2 px-1">Titulo</h4>
              <p class="m-0 textEllipsis2 px-1">descricao</p>
            </div>
            <div class="gradientTransparente"></div>
            <div #mainImageEdit class="mainPhoto" id="cover">
            </div>
            <div id="lineEvent">
              <div class="thurnbail" id="cover">
              </div>
              <div class="thurnbail" id="cover">
              </div>
              <div class="thurnbail" id="cover">
              </div>
            </div>
        </div>
      </div>
      <div class="col-5">
        <h3>Foto escolhida</h3>
        <div>
          <img src="{{choosedImageEdit}}" style="height: 35vh; width: auto">
        </div>
      </div>
    </div>

    <div class="w-75 m-auto">
      <h3 class="mt-2">Título do evento</h3>
      <input type="text" value="{{ evento?.title }}" name="title" class="form-control w-50" ngModel>
      <h3 class="mt-2" name="description">Descrição do evento</h3>
      <textarea class="form-control w-75" value="{{ evento?.description }}" name="description" rows="9" cols="60" ngModel></textarea>
    </div>

    <div class="row w-50 mx-auto">
      <div class="col-4 mt-2">
        <label for="inputGalery" class="btn btn-success">Adicionar foto(s)</label>
        <input type="file" id="inputGalery" multiple (change)="insertGaleryNew($event,f)" name="photos" ngModel>
      </div>
      <div class="col-8">
        <h3 class="mt-2">Galeria de fotos</h3>
      </div>
    </div>
    <table class="table table-striped table-sm table-light table-bordered table-hover w-50 mx-auto mb-3">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Miniaturas</th>
          <th scope="col">Ação</th>
        </tr>
      </thead>
      <tbody *ngIf="oldPhotos">

        <tr *ngFor="let foto of oldPhotos">
          <td><img src="{{foto.url}}" width="200" alt="" srcset=""></td>
          <td>
            <button type="button" class="btn-danger" (click)="removeFromGaleryOld(oldPhotos.indexOf(foto))">Excluir</button>
          </td>
        </tr>

        <tr *ngFor="let foto of newPhotos">
          <td><img src="{{foto.url}}" width="200" alt="" srcset=""> </td>
          <td>
            <button type="button" class="btn-danger" (click)="removeFromGaleryNew(newPhotos.indexOf(foto))">Excluir</button>
          </td>
        </tr>

      </tbody>
    </table>
    <div class="w-25 m-auto">
      <button type="submit" class="btn btn-primary w-100 mx-auto mb-3">Atualizar Evento</button>
      <div *ngIf="loader" class="row justify-content-center">
        <app-waiting-loader></app-waiting-loader>
      </div>
    </div>
  </form>
</div>
